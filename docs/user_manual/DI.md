# Модуль дискретного ввода SA-P5-DI 

## Общие сведения

??? example "Тестирование"

    На текущий момент модуль на стадии тестирования. Серийный выпуск запланирован на декабрь 2025 года 

<div class="grid cards" markdown>

![Image title](../img/modules/DI.png){ width="150" align=left  }
Модуль дискретного ввода DI (арт. SA-P5-DI) является 16-ти канальным модулем расширения и предназначен для приема и обработки дискретных команд от внешних устройств.
В модуле предусмотрено две схемы подключения: «сухим» (dry) и «мокрым» (wet) контактом.
При подключении «мокрым» контактом модуль принимает дискретные команды постоянным напряжением 24 В от внешнего источника питания, при этом допускается подача напряжения как положительной, так и отрицательной полярности.
При подключении «сухим» контактом не требуется подача внешнего напряжения.
</div>

## Технические характеристики 
| Характеристика                                      | Значение                                       |
|----------------------------------------------------|-----------------------------------------------|
| Максимальная потребляемая мощность, Вт            | 1,5                                           |
| Количество входных каналов                        | 16                                            |
| Напряжение детектирования логической единицы при подключении «мокрым» контактом, В | от 10 до 30 и от -30 до -10                   |
| Напряжение детектирования логического нуля при подключении «мокрым» контактом, В   | от -3 до 3                                    |
| Время антидребезга, мс                            | 3                                             |
| Гальваническая изоляция                           | Между входной и выходной логикой              |
| Сечение проводника, мм²                           | От 0,2 до 1,5                                 |
| Масса, г                                          | 125                                           |
| Габариты В×Ш×Г, мм                                | 126×21,3×90                                   |

## Эксплуатационные характеристики
| Характеристика                   | Значение           |
| -------------------------------- | -                  |
| Температура эксплуатации, °С     | От минус 40 до 60  |
| Температура хранения, °С         | От минус 40 до 60  |
| Влажность при хранении, %	       | От 5 до 95         |
| Влажность при эксплуатации, %    | От 5 до 95         |
| Тип монтажа                      | На DIN-рейку 35 мм |
| Расположение при монтаже         | Вертикальное       |

## Схема подключения

<div class="grid cards" markdown>
![Image title](../img/connection/DI.svg){ width="370"; align=left  }

![Image title](../img/connection/connector_18pin.png){ width="170";  }
</div>

Контакты «GND_DRY» и «GND_WET» предназначены для подключения входов по принципу «сухого» или «мокрого» контакта соответственно.

| Обозначение | Название канала | Описание                       |
|-------------|-----------------|--------------------------------|
| 1 - 16      | DO1 - OD16      | Входной канал 1 - 16          |
| 17          | G_WET             | Общий контакт при подклбчении по схеме "мокрый контакт"|
| 18          | G_DRY            | Общий контакт при подклбчении по схеме "сухой контакт" |

## Индикация
| Обозначение | Индикация | Показатель |
|------------------|----------------------|---------------------------------------|
| P | :green_circle:| Наличие напряжения питания |
| P | :white_circle:| Отсутствие напряжения питания |
| L | :green_circle:| Наличие соединения Ethernet |
| L | :yellow_circle: :green_circle: :yellow_circle: | Обмен данными по Ethernet |
| L | :white_circle:| Отсутствие соединения Ethernet|
| 1-16 | :green_circle:| Контакт 1 - 16 замкнут  |
| 1-16 | :white_circle:| Контакт 1 - 16 разомнут|

## Размеры

=== "Габаритные размеры" 
    ![Image title](../img/dimensions/overall_dimensions_extensions.png){ width="580"  }
=== "Установочные размеры"
    ![alt text](../img/dimensions/installation_dimensions.png) 

## 3D-модель
<model-viewer src="https://manual.saplc.ru//img/3d/DI.glb"
alt="3D Model"
auto-rotate
camera-controls
poster="https://manual.saplc.ru//img/3d/posterDI.webp"
camera-orbit="160deg 75deg 348m"
field-of-view="30deg"
exposure="0.5"
style="width: 100%; height: 500px;">
</model-viewer>


## Программное обеспечение
Обмен данными осуществляется с использованием объектов PDO (Process Data Objects) для оперативного управления выходами модуля

## PDO (Process Data Objects)
PDO используются для передачи данных в реальном времени. Модуль предоставляет два набора входных данных, передаваемых через структуры TxPDO "Byte_Lo" и TxPDO "Byte_Hi". Каждый бит в двух 8-битных значениях соответствует состоянию одного из 16 каналов 
Структура PDO:  
```
|─ Input
     |─ Channel 1 (Канал 1, бит 0)
     |─ Channel 2 (Канал 2, бит 1)
     |─ Channel 3 (Канал 3, бит 2)
     |─ Channel 4 (Канал 4, бит 3)
     |─ Channel 5 (Канал 5, бит 4)
     |─ Channel 6 (Канал 6, бит 5)
     |─ Channel 7 (Канал 7, бит 6)
     |─ Channel 8 (Канал 8, бит 7)
     |─ Channel 9 (Канал 9, бит 0)
     |─ Channel 10 (Канал 10, бит 1)
     |─ Channel 11 (Канал 11, бит 2)
     |─ Channel 12 (Канал 12, бит 3)
     |─ Channel 13 (Канал 13, бит 4)
     |─ Channel 14 (Канал 14, бит 5)
     |─ Channel 15 (Канал 15, бит 6)
     |─ Channel 16 (Канал 16, бит 7)
```
**Назначение:** Передача состояния 16 входных каналов модуля DI, где каждый бит в двух байтах отражает состояние соответствующего канала (0 — выключен, 1 — включен)  
**Формат данных:** Два 8-битных целых числа (bytes), где первый байт (TxPDO 0x1a00 "Byte_Lo", PDO entry 0x6000:01) передает состояние каналов 1–8, а второй байт (TxPDO 0x1a08 "Byte_Hi", PDO entry 0x6080:01) — каналов 9–16  
### Принцип работы
**Управление:** Через два TxPDO в реальном времени передаются два 8-битных значения, которые отражают состояние всех 16 каналов модуля. Например, значение 0x01 в TxPDO 0x1a00 указывает, что Channel 1 активен, а значение 0x02 в TxPDO 0x1a08 — что Channel 10 активен

### Пример конфигурации
Получить через TxPDO 0x1a00 значение 0x05 (00000101 в двоичной системе), что означает активность Channel 1 и Channel 3, и через TxPDO 0x1a08 значение 0x0A (00001010 в двоичной системе), что означает активность Channel 10 и Channel 12  

Результат: Каналы 1, 3, 10 и 12 активны (включены), остальные — выключены


## Файлы для скачивания
<a href="/downloads/IPCSA_OG.xml" download>XML конфигурационный файл для TwinCAT</a>  
<a href="/downloads/DI.c" download>Cstruct конфигурационный файл для IgH EtherCAT Master</a>     
<a href="/downloads/Module 18-pin.step" download>3D-модель</a>   
<a href="/downloads/Module 18-pin.dwg" download>2D-модель</a>    